<?xml version="1.0" encoding="UTF-8"?>

<!-- This file is part of the book                -->
<!--                                              -->
<!--      A Modeling Approach to Calculus         -->
<!--                                              -->
<!-- Copyright (C) 2017-2019  D. Brian Walton     -->
<!-- See the file COPYING for copying conditions. -->

<section xml:id="functions-introduction">
  <title>An Introduction to Functions</title>
  <introduction>
    <title>Overview</title>
    <p>
      Calculus studies the relationships between variables.
      We have been learning about relationships described by equations
      where a dependent variable, say <m>y</m>, is equal to an expression involving only the independent variable, say <m>x</m>.
      In mathematics, such relationships are most are generalized to create the concept of functions.
      A function is a predictive relationship between an independent and a dependent variable
      which we interpret as a <term>map</term>, <m>x \mapsto y</m>, meaning that knowing <m>x</m> we can predict the value of <m>y</m>.
    </p>
    <p>
      In this section, we will study an overview of the core concepts relating to functions.
      Functions will generalize our idea of operations that can act on expressions.
      We will learn how to think of a function as a map between two variables.
      Associated with a function as a map are the sets known as the domain, codomain, and range.
    </p>
  </introduction>
  <subsection>
    <title>Models as Functions</title>
    <p>
      We have previously used equations as models of relations between variables.
      When we think of one variable as a dependent variable based on the other variable as the independent variable,
      we are mentally thinking of the equation as defining a map.
      Each model equation where one variable is defined as an expression in terms of the other variable represents such a map.
      We define the <term>domain</term> as the set of all possible values of the independent variable
      and the <term>range</term> as the set of all resulting values of the dependent variable.
    </p>
    <p>
      A graphical view of a map is using two number lines, one for the domain and one for the range.
      For each value in the domain, we imagine that the map defines an arrow
      originating at the point in the domain and ending at the point in the range.
      If a value on the number line does not belong to the domain,
      there just isn't any arrow originating at that point.
    </p>
    <example>
      <statement>
        <p>
          Consider a function defined by a linear relation with states <m>(x,y)=(1,2)</m> and <m>(x,y)=(3,8)</m>.
          We can find the equation of the line by finding the slope and using the <xref ref="slope-intercept-line" text="title">slope<ndash/>intercept</xref> equation.
          The slope is interpreted as the ratio of the change in the output to the change in the input.
          The increment of the input is <m>\Delta x = x_2 -x_1 = 3-1 = 2</m>.
          The increment of the output is <m>\Delta y = y_2 - y_1 = 8-2 = 6</m>.
          The slope or rate of change is therefore <m>m=\frac{6}{2} = 3</m>.
          The equation of the line using the point <m>(x,y)=(1,2)</m> becomes
          <me>y-2 = 3 \, (x-1)</me>.
          If we solve for <m>y</m>, we get <m>y</m> as an explicit function of <m>x</m>,
          <me>y = 3 \, (x-1) + 2</me>.
        </p>
        <p>
          The interactive figure below illustrates the idea of a map.
          The top number line contains the domain, while the bottom number line contains the range.
          A slider on the top line allows you to choose a value in the domain.
          The arrow dynamically moves to connect the point in the domain to the point in the range.
        </p>
        <figure>
          <caption>The linear function that maps <m>x=1 \mapsto y=2</m> and <m>x=3 \mapsto y=8</m> has rate of change <m>m=2</m>.</caption>
          <jsxgraph xml:id="jsx-linear-function-as-map" width="75%" aspect="4:1">
            <input>
            <![CDATA[
            var jcf1 = {
              f : function(x)
                {
                  var y=2+3*(x-1);
                  return y;
                 },
              input : { name:'x', color:'blue', value:1, fix:[1,3], min:-2.5, max:9.5 },
              output : { name:'y', color:'red', min:-2.5, max:9.5 },
            };
            createMap(jcf1, 'jsx-linear-function-as-map');
            ]]>
            </input>
          </jsxgraph>
        </figure>
        <p>
          This map view of the linear function gives an interesting visual interpretation of the slope.
          We consider the initial point <m>(x,y)=(1,2)</m> as giving reference values on each number line.
          The map sends <m>x=1 \mapsto y=2</m>.
          As we move the slider away from <m>x=1</m>, the gap between the value of <m>x</m> and <m>x=1</m> defines <m>\Delta x</m>.
          The slope of the line then forces the gap from <m>y=2</m> and the value <m>y</m> coming from <m>x</m> will be <m>\Delta y = 3 \, \Delta x</m>.
          That is, the slope is the scaling factor going from <m>\Delta x</m> to <m>\Delta y</m>.
        </p>
      </statement>
    </example>
    <p>
      The algebraic interpretation of a map defined by an equation uses variable substitution.
      To find the value of the dependent variable, we substitute the assigned value of the independent variable into the equation.
      After we simplify the expression, we determine the value of the dependent variable.
    </p>
    <example>
      <statement>
        <p>
          In 1990, the population of Harrisonburg, Virginia, was 30,707.
          In 2010, the population was 48,914.
          If the rate of change of the population increased at a constant rate,
          find a model for the population of Harrisonburg as a function of the year.
          What does the model predict for the year 2020?
        </p>
      </statement>
      <solution>
        <p>
          The variables involved in the model are the year <m>y</m> and the population <m>P</m>.
          By saying that the rate of change is constant means that the model uses a linear function.
          The given data show <m>y=1990 \mapsto P=30707</m> and <m>y=2010 \mapsto P=48914</m>.
          We find the slope as the ratio of <m>\Delta P</m> (change in output) to <m>\Delta y</m> (change in input).
          <md>
            <mrow>m &amp;= \frac{\Delta P}{\Delta y} </mrow>
            <mrow> &amp;= \frac{48914 - 30707}{2010-1990} </mrow>
            <mrow> &amp;= \frac{18207}{20} = 910.35 </mrow>
          </md>
          Using the point-slope form of the line, we start with the known mapping <m>1990 \mapsto 30707</m>
          and the constant rate of change to give
          <me>P = 30707 + 910.35 \, (y - 1990)</me>.
          The graph of this line is shown below.
        </p>
        <sidebyside width="60%">
          <image>
            <latex-image>
            \tikzset{%
            }
            \begin{tikzpicture}
            \begin{axis}[
              xlabel={$y$},
              ylabel={$P$},
              axis lines=center,
              xmin=1985, xmax=2025,
              ymin=25000, ymax=60000,
            ]
            \addplot [domain=1985:2025,samples=2] {30707+910.35*(x-1990)};
            \addplot [only marks, black] coordinates { (1990, 30707) (2010,48914) (2020, 58017) }
              node [pos=0,below right] {(1990,30707)}
              node [pos=0.5, above left] {(2010,48914)};
            \end{axis}
            \end{tikzpicture}
            </latex-image>
          </image>
        </sidebyside>
        <p>
          To find the predicted population for 2020, we use the model with substitution.
          Let <m>y=2020</m> and substitute this into the model:
          <md>
            <mrow> P \amp= 30707 + 910.35 \, (y - 1990) </mrow>
            <mrow> \amp= 30707 + 910.35 \, (2020 - 1990) </mrow>
            <mrow> \amp= 30707 + 910.35 \cdot 30 </mrow>
            <mrow> \amp= 58017.5 </mrow>.
          </md>
          Consequently, the model predicts the map <m>y=2020 \mapsto P=58017.5</m>.
          Of course, the real population will not be a non-integer value.
          This example reminds us to distinguish between a prediction of a model and an actual value.
        </p>
      </solution>
    </example>
    <p>
      Because we use functions to find values of the dependent variable by substitution,
      we have a special notation called <term>function notation</term>.
      The map or function is assigned a name.
      The name of the function followed by an expression inside of parentheses
      represents the value of the dependent variable when the input expression is substituted for the independent variable.
    </p>
    <p>
      For example, if we write <m>f : x \mapsto y = 3x^2</m>, then the name of the function is <m>f</m>.
      The equation defining the relation is <m>y=3x^2</m>.
      This is more commonly written <m>y = f(x) = 3x^2</m>.
      The expression <m>f(1)</m>, substituting <m>x</m> with <m>x=1</m>, we find <m>y=3(1)^2 = 3</m>.
      More simply, we write <m>f(1) = 3(1)^2 = 3</m>.
      Substitution can involve entire expressions as well as single values.
      The expression <m>f(2+h)</m> represents the expression <m>3x^2</m> when <m>2+h</m> is substituted for <m>x</m>,
      <me>f(2+h) = 3 \, (2+h)^2</me>.
    </p>
    <example>
      <statement>
        <p>
          Suppose we have a function <m>f : t \mapsto B</m>
          where <m>t</m> measures the time in years since we opened a bank account
          and <m>B</m> measures the account balance.
          If the account grows according to the model <m>B = 500 (1.02)^t</m>,
          we can write <m>f(t) = 500 \, (1.02)^t</m>.
          Find the balance after two, five, and ten years using function notation.
        </p>
      </statement>
      <solution>
        <p>
          The values that we want, using function notation, are <m>f(2)</m>, <m>f(5)</m>, and <m>f(10)</m>.
          Each of these expressions represent values for <m>B</m> when the value of <m>t</m> is replaced by <m>t=2</m>, <m>t=5</m>, and <m>t=10</m>.
          The three values are
          <md>
            <mrow>f(2) = 500 (1.02)^2 = 520.20,</mrow>
            <mrow>f(5) = 500 (1.02)^5 \approx 552.04,</mrow>
            <mrow>f(10) = 500 (1.02)^{10} \approx 609.50.</mrow>
          </md>
          Thus, the model predicts balance values of <m>B=520.20</m> when <m>t=2</m>,
          <m>B=552.04</m> when <m>t=5</m>, and <m>B=609.50</m> when <m>t=10</m>.
        </p>
      </solution>
    </example>
    <note xml:id="function-notation-not-multiplication">
      <p>
        Although writing parentheses in mathematics next to a number or a variable means multiplication,
        a function is not a variable.
        The parentheses after the function do <em>not</em> mean multiplication but evaluation.
        It is unfortunate that the same symbols have different meanings,
        so you will need to pay close attention to the context.
        When reading aloud, a function expression like <m>f(x)</m> should be read <q><m>f</m> of <m>x</m></q>.
      </p>
    </note>
    <p>
      If we have an equation involving two variables and can solve to isolate one of the variables to be equal to some expression involving the other variable,
      then the equation defines a function.
      The isolated variable is the dependent variable (output) and the other variable is the independent variable.
      This is a function because once you know the value of the independent variable,
      the equation allows you to substitute that value and determine a single value of the dependent variable.
      An equation where the dependent variable is isolated defines the dependent variable as an <term>explicit function</term> of the independent variable.
    </p>
    <example>
      <statement>
        <p>
          Given the equation <m>\frac{xy}{x+y} = 3</m>,
          rewrite <m>y</m> as an explicit function of <m>x</m>.
        </p>
      </statement>
      <solution>
        <p>
          To show that <m>y</m> is a function of <m>x</m>, we need to solve the equation for <m>y</m>.
          We can cross multiply the equation and then collect terms involving <m>y</m>.
          Once we factor the common factor of <m>y</m>, we can isolate the variable.
          <md>
            <mrow> \frac{xy}{x+y} \amp= 3 </mrow>
            <mrow> xy \amp= 3(x+y) </mrow>
            <mrow> xy \amp= 3x + 3y </mrow>
            <mrow> xy - 3y \amp= 3x </mrow>
            <mrow> (x-3) \, y \amp= 3x </mrow>
            <mrow> y \amp= \frac{3x}{x-3} </mrow>
          </md>
          The equation shows that we have a function <m>x \mapsto y = \displaystyle \frac{3x}{x-3}</m>,
          an explicit function of <m>x</m>.
        </p>
      </solution>
    </example>
    <p>
      If an equation can be solved for two different values of the dependent variable for a single value of the independent variable,
      then the equation does not define the dependent variable as a function of the independent variable.
      We will later learn that we can often restrict the equation to define an implicit function.
    </p>
    <example>
      <statement>
        <p>
          Show that <m>x^2+y^2=25</m> does not define <m>y</m> as a function of <m>x</m>.
        </p>
      </statement>
      <solution>
        <p>
          The equation <m>x^2+y^2=25</m> defines a circle with radius <m>r=5</m>.
          For each value <m>a</m> with <m>-5 \lt a \lt 5</m>, the graph of the circle will intersect the vertical line <m>x=a</m> at two different points.
          To demonstrate this, consider <m>x=3</m>.
          When we substitute <m>x=3</m> into the equation <m>x^2+y^2=25</m>,
          we obtain the equation <m>9 + y^2 = 25</m> which is equivalent to <m>y^2=16</m>.
          There are two values, <m>y=\pm 4</m>, that solve this equation.
          Because there are two values for the dependent variable for this point, we see that the equation does not define an explicit function.
        </p>
      </solution>
    </example>
  </subsection>
  <subsection>
    <title>Domain and Range</title>
    <p>
      The <term>domain</term> of a function is the set of possible input values for the function.
      The domain might be all possible real numbers.
      It might also be a set restricted by algebraic constraints or by physical considerations.
      A second set associated with a function is the <term>range</term>.
      The range is the set of all possible output values for the function.
      We often consider a set called the <term>codomain</term>, which is a set to which all output values must belong.
      The range is always a subset of the codomain.
    </p>
    <definition xml:id="definition-function-as-set-relation">
      <title>Function</title>
      <statement>
        <p>
          A function <m>f</m> is a rule or relation from a given set <m>D</m> (the domain) to another set <m>D'</m> (the codomain)
          such that <em>every</em> value <m>a \in D</m> is related (mapped) to a <em>unique</em> value <m>b \in D'</m>.
          We write <m>f : D \to D'</m>.
          If <m>D'</m> is not stated, it is assumed that <m>D' = \mathbb{R}</m>.
        </p>
      </statement>
    </definition>
    <p>
      A function must assign a value for the output for <em>every</em> value in the domain.
      Functions using the same rule but for different domains are different functions.
      Choosing a domain is part of the modeling process.
      The domain specifies what type of values are acceptable for the independent variable (input).
      For example, some modeling scenarios might require that the independent variable must be an integer,
      so we choose a domain <m>D = \mathbb{Z}</m>.
      Other modeling scenarios might require that the independent variable is constrained to be between two values <m>a \lt b</m>,
      so we choose a domain <m>D = (a,b)</m>.
    </p>
    <p>
      The codomain could always be chosen to be the set of real numbers <m>\mathbb{R}</m>.
      In mathematics, the codomain is usually required to distinguish different types of functions,
      such as whether the value of the function is a real number, a complex number, or even maybe a more complicated object like a matrix.
      For modeling, we would specify a codomain that is more precise in order to characterize some aspect of a function.
      For example, if the output variable is meant to represent a probability, then only values from 0 to 1 make sense, and we choose <m>D' = [0,1]</m>.
      Frequently, we want to have a function that is non-negative.
      We can communicate this by saying <m>D' = [0,\infty)</m>.
    </p>
    <example>
      <statement>
        <p>
          Consider a grocery store that charges $0.25 per ear of corn.
          We can define a function <m>n \mapsto c</m> that maps the number of ears purchased <m>n</m> to the pre-tax subtotal to charge <m>c</m> in dollars.
          Describe the function.
        </p>
      </statement>
      <solution>
        <p>
          The function is characterized by the rule and by the domain.
          The rule is one of proportionality, <m>c = 0.25 n</m>.
          The independent (input) variable <m>n</m> is discrete and only makes sense for non-negative integers.
          We include <m>n=0</m> because a customer might not purchase corn.
          Consequently, <m>D = \{0, 1, 2, \ldots\} = \mathbb{N}_0</m>.
          If a store had a customer limit on how many ears could be purchased, then our domain <m>D</m> would have to be modified.
        </p>
        <p>
          If we named our function <m>f</m>, the following notation communicates our summary:
          <me>f : \mathbb{N}_0 \to \mathbb{R}; n \mapsto c = 0.25 n</me>.
          The notation states the name of the function <m>f</m>, the domain <m>\mathbb{N}_0</m>,
          the input and output variables <m>n</m> and <m>c</m>, and the rule <m>c = 0.25 n</m>.
        </p>
      </solution>
    </example>
    <example>
      <statement>
        <p>
          Consider a grocery store that charges $0.25 per pound of bananas.
          We can define a function <m>w \mapsto c</m> that maps the weight of bananas purchased <m>w</m> to the pre-tax subtotal to charge <m>c</m> in dollars.
          Describe the function.
        </p>
      </statement>
      <solution>
        <p>
          The function is characterized by the rule and by the domain.
          The rule is again one of proportionality, <m>c = 0.25 w</m>.
          However, weight is a continuous variable; the weight of bananas purchased could conceivably be any positive real number.
          To allow for no purchase, we again include <m>w=0</m>.
          The domain is therefore an interval of values <m>0 \le w</m>, written <m>D = [0,\infty)</m>.
          If we named our function <m>g</m>, the following notation communicates our summary:
          <me>g : [0,\infty) \to \mathbb{R}; w \mapsto c = 0.25 w</me>.
        </p>
      </solution>
    </example>
    <p>
      In the two previous examples, the formulas for two different functions described the same calculation<mdash/>multiply the input by 0.25.
      In the examples, we used mapping notation to describe the functions.
      Mapping notation has the advantage of being precise but a disadvantage in being a little cumbersome.
      We can use function notation to define each function if we include a restriction on the domain.
      For <m>f</m> we would write
      <me>f(n) = c = 0.25 n, \quad n=0, 1, 2, \ldots</me>.
      For <m>g</m> we would write
      <me>g(w) = c = 0.25 w, \quad w \ge 0</me>.
      Notice that if we were to substitute a generic variable <m>x</m> for the input values,
      we would have <m>f(x)=0.25x</m> and <m>g(x)=0.25x</m>.
      Nevertheless, the functions are not the same because they have different domains.
    </p>
    <p>
      The graphs of these functions are also related but different.
      The discrete function <m>f</m> will have isolated points for its graph.
      The continuous function <m>g</m> will have a connected graph.
      Both functions will have all points on their graphs sitting on the line <m>y=0.25x</m>.
    </p>
    <figure>
      <caption>Graphs of the functions <m>f : \mathbb{N}_0 \to \mathbb{R}; n \mapsto c = 0.25 n</m> and <m>g : [0,\infty) \to \mathbb{R}; w \mapsto c = 0.25 w</m>, each overlaid with the graph of the line <m>y=0.25 x</m>.</caption>
      <sidebyside widths="45% 45%">
        <image>
          <description>Graph of the discrete function f showing isolated points on the line y = 0.25 x.</description>
          <latex-image>
            \begin{tikzpicture}
              \begin{axis}
              [
                xmin=-3, xmax=11, ymin=-4, ymax=4,
                xlabel={$n$}, ylabel={$c$}, axis lines=center,
              ]
              \addplot [ dashed, black, domain=-3:11.5 ] {0.25*x};
              \addplot [ blue, only marks, samples at={0,1,...,11} ] {0.25*x};
              \end{axis}
            \end{tikzpicture}
          </latex-image>
        </image>
        <image>
          <description>Graph of the continuous function g along with the line y = 0.25 x.</description>
          <latex-image>
            \begin{tikzpicture}
              \begin{axis}
              [
                xmin=-3, xmax=11, ymin=-4, ymax=4,
                xlabel={$w$}, ylabel={$c$}, axis lines=center,
              ]
              \addplot [ dashed, black, domain=-3:11.5 ] {0.25*x};
              \addplot [ blue, thick, domain=0:11.5 ] {0.25*x};
              \end{axis}
            \end{tikzpicture}
          </latex-image>
        </image>
      </sidebyside>
    </figure>
    <p>
      Unless specified otherwise, the domain of a function defined by a formula will be the largest set of real numbers for which the formula is defined.
      This type of domain is called the <term>natural domain</term> of the function or of the defining expression.
      However, the codomain might include values that are not necessarily in the range.
      For example, the function <m>x \mapsto y = 3</m> can be defined for a domain <m>\mathbb{R}</m> (all real numbers)
      and the range is the set with a single value <m>\{3\}</m>.
      The codomain could be defined to be any set that includes 3,
      such as the set of non-negative numbers <m>[0,\infty)</m>
      or the set of all real numbers <m>\mathbb{R}</m>.
      The default codomain will be <m>\mathbb{R}</m>.
    </p>
    <definition xml:id="definition-natural-domain">
      <statement>
        <p>
        For a function <m>f</m> defined by a formula, such as <m>y=f(x)</m>,
        the <term>natural domain</term> is the set of all real numbers for which the formula is defined.
        </p>
      </statement>
    </definition>
    <definition xml:id="definition-function-range">
      <statement>
        <p>
        For a function <m>f : D \to D'</m>,
        the <term>range</term> is the set of all values <m>y</m>
        for which there exists a state <m>(x,y)</m>.
        That is, there exists <m>x \in D</m> so that <m>f(x)=y</m>.
        </p>
      </statement>
    </definition>
    <p>
      We find the natural domain by identifying which operations might not be defined for all values
      and then solve either equations or inequalities that will identify where the function is defined.
      Our elementary operations and functions use the following constraints to find the domain.
      <ul>
        <li>Division is undefined if the denominator equals zero.</li>
        <li>Even roots (e.g., square roots) and irrational powers are undefined if the inner expression is negative.</li>
        <li>Logarithms are undefined if the inner expression is non-positive (zero or negative).</li>
      </ul>
      The inequalities that arise in finding the domain can be solved directly or by using factor analysis.
    </p>
    <example>
      <statement>
        <p>
          Determine the domain of <m>\displaystyle f(x) = \frac{2x+3}{x^2-4}</m>.
        </p>
      </statement>
      <solution>
        <p>
          Because <m>f(x)</m> is defined as a quotient,
          the domain will be the set of all values where <m>x^2-4 \ne 0</m>.
          We solve this inequality by factoring and considering the complementary equation <m>x^2-4=0</m>,
          since a product can only equal zero if one of the factors equals zero.
          <md>
            <mrow>x^2-4 = 0</mrow>
            <mrow>(x+2)(x-2) = 0 </mrow>
            <mrow>x+2 = 0 \quad \text{or} \quad x-2=0</mrow>
            <mrow>x=-2 \quad \text{or} \quad x=2</mrow>
          </md>
          This means <m>f(x)</m> is defined for all inputs except <m>x=-2</m> or <m>x=2</m>.
        </p>
        <p>
          To describe the domain using intervals, we think of the real number line and remove <m>x=\pm 2</m>.
          A graphical representation of the set using a number line is shown below.
          Intervals are read from the line left-to-right.
          It starts at <m>-\infty</m> and continues until <m>-2</m>, then goes from <m>-2</m> to <m>2</m>,
          and finally goes from <m>2</m> until <m>+\infty</m>.
          We write <me>D = (-\infty,-2) \cup (-2, 2) \cup (2,+\infty)</me>.
        </p>
        <sidebyside width="75%" margins="auto">
          <image>
            <latex-image>
            <!-- CDATA prevents certain LaTeX code from being interpreted as xml -->
            <![CDATA[\tikzset{%
            }
            \begin{tikzpicture}[x=1cm,y=1cm]
            \draw[<->] (-4,0) -- (4,0);
            \draw (-2, -0.1) -- (-2,0.1) node[pos=0, below] {$-2$};
            \draw (2, -0.1) -- (2,0.1) node[pos=0, below] {$2$};
            \draw [<-, blue, thick] (-4,0.2) -- (-2.1,0.2);
            \draw [blue, thick] (-2,0.2) circle (0.1);
            \draw [blue, thick] (-1.9,0.2) -- (1.9,0.2);
            \draw [blue, thick] (2,0.2) circle (0.1);
            \draw [->, blue, thick] (2.1,0.2) -- (4,0.2) node [right] {$D$};
            \end{tikzpicture}]]>
            </latex-image>
          </image>
        </sidebyside>
      </solution>
    </example>
    <p>
      Sometimes finding the domain of a function involves performing sign analysis (such as for a square root or a logarithm).
      We identify end points of intervals where the expression of interest <em>might</em> change sign by solving equations.
      These end points only occur where the expression equals zero or where the expression itself is undefined (a discontinuity).
      We test the sign of the expression in each of the resulting intervals by using test points or counting the number of negative factors.
      Testing the sign at single points is often more efficient than counting negative factors.
    </p>
    <example>
      <statement>
        <p>
          Find the domain of the function <m>\displaystyle g(x)=\log_{4}(x^2-x-6)</m>.
        </p>
      </statement>
      <solution>
        <p>
          The logarithm in <m>g(x)</m> will only have a real value when the input expression is positive,
          <m>x^2-x-6 \gt 0</m>.
          Our task becomes determining the signs of the expression <m>x^2-x-6</m>.
          To illustrate the process of testing points in intervals, we first find possible sign-changing points.
          The expression is always defined (no discontinuities) so we just solve for zeros <m>x^2-x-6=0</m> by factoring.
          <md>
            <mrow>x^2-x-6=0 </mrow>
            <mrow>(x-3)(x+2)=0</mrow>
            <mrow>x-3=0 \quad \text{or} \quad x+2=0</mrow>
            <mrow>x=3 \quad \text{or} \quad x=-2</mrow>
          </md>
          If we mark these points on a number line, we can easily identify the intervals to test for signs.
          It is helpful to use the same number line to record the resulting signs,
          so we can label <m>x</m>-values below the line and the resulting sign or value of the expression above the line.
        </p>
        <sidebyside width="75%" margins="auto">
          <image>
            <latex-image>
            <!-- CDATA prevents certain LaTeX code from being interpreted as xml -->
            <![CDATA[\tikzset{%
            }
            \begin{tikzpicture}[x=0.7cm,y=0.7cm]
            \draw[<->] (-5,0) -- (5,0)
              node[pos=1, above right] {$x^2-x-6$}
              node[pos=1, below right] {$x$};
            \draw (-2, -0.1) -- (-2,0.1)
              node[pos=0, below] {$-2$}
              node[pos=1, above] {$0$};
            \draw (3, -0.1) -- (3,0.1)
              node[pos=0, below] {$3$}
              node[pos=1, above] {$0$};
            \end{tikzpicture}]]>
            </latex-image>
          </image>
        </sidebyside>
        <p>
          The number line shows we need to test the intervals <m>(-\infty,-2)</m>, <m>(-2,3)</m>, and <m>(3,\infty)</m>.
          Choosing one value from each interval, we can evaluate the expression at that point and identify the sign.
          <md>
            <mrow>x=-3 \quad &amp;\Rightarrow \quad x^2-x-6 = (-3)^2-(-3)-6 = 6</mrow>
            <mrow>x=0 \quad &amp;\Rightarrow \quad x^2-x-6 = 0^2-0-6 = -6</mrow>
            <mrow>x=4 \quad &amp; \Rightarrow \quad x^2-x-6 = 4^2-4-6 = 6</mrow>
          </md>
          We can now update the number line we started by recording
          either <m>+</m> or <m>-</m> above each interval that we tested.
          These signs are identical to what we would get by using the number of negative factors for values in each interval.
          In fact, we could test the intervals by thinking about the factors instead of completely evaluating the expression's value.
        </p>
        <sidebyside width="75%" margins="auto">
          <image>
            <latex-image>
            <!-- CDATA prevents certain LaTeX code from being interpreted as xml -->
            <![CDATA[\tikzset{%
            }
            \begin{tikzpicture}[x=0.7cm,y=0.7cm]
            \draw[<->] (-5,0) -- (5,0)
              node[pos=1, above right] {$x^2-x-6$}
              node[pos=1, below right] {$x$};
            \draw (-2, -0.1) -- (-2,0.1)
              node[pos=0, below] {$-2$}
              node[pos=1, above] {$0$};
            \draw (3, -0.1) -- (3,0.1)
              node[pos=0, below] {$3$}
              node[pos=1, above] {$0$};
            \node [above] at (-3,0.1) {$+$};
            \node [above] at (0,0.1) {$-$};
            \node [above] at (4,0.1) {$+$};
            \end{tikzpicture}]]>
            </latex-image>
          </image>
        </sidebyside>
        <p>
          We were finding the domain of <m>g(x)=\log_4(x^2-x-6)</m>, which requires <m>x^2-x-6 \gt 0</m>.
          Based on our summary, we need to find all values which result in the expression having a positive sign.
          So our solution is the set <m>D</m> formed from the union of intervals <m>(-\infty,-2)</m> and <m>(3,\infty)</m>,
          <me>D = (-\infty,-2) \cup (3,\infty)</me>.
          A visualization of the domain on the number line might also help solidify
          the connections between the sign analysis number line and the domain set.
        </p>
        <sidebyside width="75%" margins="auto">
          <image>
            <latex-image>
            <!-- CDATA prevents certain LaTeX code from being interpreted as xml -->
            <![CDATA[\tikzset{%
            }
            \begin{tikzpicture}[x=1cm,y=1cm]
            \draw[<->] (-4,0) -- (4,0);
            \draw (-2, -0.1) -- (-2,0.1) node[pos=0, below] {$-2$};
            \draw (3, -0.1) -- (3,0.1) node[pos=0, below] {$3$};
            \draw [<-, blue, thick] (-4,0.2) -- (-2.1,0.2);
            \draw [blue, thick] (-2,0.2) circle (0.1);
            \draw [blue, thick] (3,0.2) circle (0.1);
            \draw [->, blue, thick] (3.1,0.2) -- (4,0.2) node [right] {$D$};
            \end{tikzpicture}]]>
            </latex-image>
          </image>
        </sidebyside>
      </solution>
    </example>
    <example>
      <statement>
        <p>
        Find the domain of the function <m>\displaystyle h(x) = \sqrt{\frac{4x}{x^2-9}}</m>.
        </p>
      </statement>
      <solution>
        <p>
          A square root (any even root) requires that the input expression is non-negative.
          Our domain is to solve the inequality <me>D = \{ x : \frac{4x}{x^2-9} \ge 0 \}</me>.
        </p>
        <p>
          To use sign analyis, we need to know the zeros and discontinuities and then test each resulting interval.
          Discontinuities occur when we try to divide by zero.
          <md>
            <mrow>x^2-9 = 0</mrow>
            <mrow>(x+3)(x-3) = 0</mrow>
            <mrow>x+3=0 \quad \text{or} \quad x-3=0</mrow>
            <mrow>x=-3 \quad \text{or} \quad x=3</mrow>
          </md>
          Zeros for a quotient require that the numerator equals zero.
          <md>
            <mrow>4x=0</mrow>
            <mrow>x=0</mrow>
          </md>
          Our sign analysis number line will have three points.
        </p>
        <sidebyside width="75%" margins="auto">
          <image>
            <latex-image>
            <!-- CDATA prevents certain LaTeX code from being interpreted as xml -->
            <![CDATA[\tikzset{%
            }
            \begin{tikzpicture}[x=0.7cm,y=0.7cm]
            \draw[<->] (-5,0) -- (5,0)
              node[pos=1, above right] {$\displaystyle \frac{4x}{(x+3)(x-3)}$}
              node[pos=1, below right] {$x$};

            \draw (-3, -0.1) -- (-3,0.1)
              node[pos=0, below] {$-3$}
              node[pos=1, above] {und};
            \draw (0, -0.1) -- (0,0.1)
              node[pos=0, below] {$0$}
              node[pos=1, above] {$0$};
            \draw (3, -0.1) -- (3,0.1)
              node[pos=0, below] {$3$}
              node[pos=1, above] {und};
            \end{tikzpicture}]]>
            </latex-image>
          </image>
        </sidebyside>
        <p>
          Checking one point in each resulting interval gives us the sign.
          To find the sign, we count the number of negative factors, including the factors in the denominator.
          <md>
            <mrow>x = -4 \quad &amp;\Rightarrow \quad \frac{4x}{(x+3)(x-3)} = \frac{4(-4)}{(-4+3)(-4-3)} = \frac{(-)}{(-)(-)}</mrow>
            <mrow>x = -1 \quad &amp;\Rightarrow \quad \frac{4x}{(x+3)(x-3)} = \frac{4(-1)}{(-1+3)(-1-3)} = \frac{(-)}{(+)(-)}</mrow>
            <mrow>x = 1 \quad &amp;\Rightarrow \quad \frac{4x}{(x+3)(x-3)} = \frac{4(1)}{(1+3)(1-3)} = \frac{(+)}{(+)(-)}</mrow>
            <mrow>x = 4 \quad &amp;\Rightarrow \quad \frac{4x}{(x+3)(x-3)} = \frac{4(4)}{(4+3)(4-3)} = \frac{(+)}{(+)(+)}</mrow>
          </md>
          The signs can be summarized on the number line.
        </p>
        <sidebyside width="75%" margins="auto">
          <image>
            <latex-image>
            <!-- CDATA prevents certain LaTeX code from being interpreted as xml -->
            <![CDATA[\tikzset{%
            }
            \begin{tikzpicture}[x=0.7cm,y=0.7cm]
            \draw[<->] (-5,0) -- (5,0)
              node[pos=1, above right] {$\displaystyle \frac{4x}{(x+3)(x-3)}$}
              node[pos=1, below right] {$x$};
            \draw (-3, -0.1) -- (-3,0.1)
              node[pos=0, below] {$-3$}
              node[pos=1, above] {und};
            \draw (0, -0.1) -- (0,0.1)
              node[pos=0, below] {$0$}
              node[pos=1, above] {$0$};
            \draw (3, -0.1) -- (3,0.1)
              node[pos=0, below] {$3$}
              node[pos=1, above] {und};
            \node [above] at (-4,0.1) {$-$};
            \node [above] at (-1,0.1) {$+$};
            \node [above] at (1,0.1) {$-$};
            \node [above] at (4,0.1) {$+$};
            \end{tikzpicture}]]>
            </latex-image>
          </image>
        </sidebyside>
        <p>
          We interpret our analysis to find the domain of <m>h(x)</m>.
          The domain must include intervals where the inner expression is positive, <m>(-3,0)</m> and <m>(3,\infty)</m>,
          along with points where the expression equals zero, <m>x=0</m>.
          The set is visualized below.
          We do not include the points where the expression was undefined, <m>x = \pm 3</m>.
          The domain is the set <me>D = (-3,0] \cup (3,\infty)</me>.
        </p>
        <sidebyside width="75%" margins="auto">
          <image>
            <latex-image>
            <!-- CDATA prevents certain LaTeX code from being interpreted as xml -->
            <![CDATA[\tikzset{%
            }
            \begin{tikzpicture}[x=0.7cm,y=0.7cm]
            \draw[<->] (-5,0) -- (5,0);

            \draw (-3, -0.1) -- (-3,0.1) node[pos=0, below] {$-3$};
            \draw (0, -0.1) -- (0,0.1) node[pos=0, below] {$0$};
            \draw (3, -0.1) -- (3,0.1) node[pos=0, below] {$3$};
            \draw [blue, thick] (-2.9,0.2) -- (-0.1,0.2);
            \draw [->, blue, thick] (3.1,0.2) -- (5,0.2) node [right] {$D$};
            \draw [blue, thick] (-3,0.2) circle (0.1);
            \draw [blue, fill, thick] (0,0.2) circle (0.1);
            \draw [blue, thick] (3,0.2) circle (0.1);
            \end{tikzpicture}]]>
            </latex-image>
          </image>
        </sidebyside>
      </solution>
    </example>
  </subsection>
  <subsection xml:id="subsec-">
    <title>Other Representations for Functions</title>
    <p>
      A function can be defined by rules other than formulas.
      Any method that creates a unique output result for each given input value in the domain is a valid function.
      When the domain is a small finite set, we can simply define the output values with a table.
      We could also define a function through a graph of the pairs <m>(x,y)</m>.
      Sometimes, a function can be defined according to an algorithm that is not described by a formula.
    </p>
    <example>
      <statement>
        <p>
          One round of a game called <q>Pig</q> involves the throw of a single six-sided die.
          If the die shows one dot, the round scores 100 points.
          If the die shows five dots, the round scores 50 points.
          Any other face on the die results in 0 points.
        </p>
        <p>
          The score for a round is a function of the thrown face.
          The input for the function, or independent variable, is the number of dots showing on the thrown die's face, say <m>D</m>.
          The output for the function, or dependent variable, is the score for the round, say <m>S</m>.
          The domain involves six possible values,
          <me>D = \{ 1, 2, 3, 4, 5, 6 \}</me>.
          The range has three values, <m>R = \{0, 50, 100\}</m>.
        </p>
        <p>
          The function can be characterized by a table.
          The table has two columns, one for the input (dots on the die) and one for the output (round score).
          The key feature of this table representing a function is that <em>every</em> value in the domain appears as exactly one entry in the input column.
          The function maps <m>D \mapsto S</m>
          We can never allow a single input value to map to two different output values.
        </p>
        <sidebyside width="50%">
          <tabular>
            <row bottom="major">
              <cell>Number of Dots (<m>D</m>)</cell>
              <cell>Score for Round (<m>S</m>)</cell>
            </row>
            <row>
              <cell>1</cell>
              <cell>100</cell>
            </row>
            <row>
              <cell>2</cell>
              <cell>0</cell>
            </row>
            <row>
              <cell>3</cell>
              <cell>0</cell>
            </row>
            <row>
              <cell>4</cell>
              <cell>0</cell>
            </row>
            <row>
              <cell>5</cell>
              <cell>50</cell>
            </row>
            <row>
              <cell>6</cell>
              <cell>0</cell>
            </row>
          </tabular>
        </sidebyside>
        <p>
          A graph of this function has exactly six points, corresponding to the six values in the domain.
          Each point is a state <m>(D,S)</m> appearing in the table.
          Notice how the graph and the table show the same information in different ways.
        </p>
        <sidebyside width="50%">
          <image>
            <latex-image>
              \begin{tikzpicture}
              \begin{axis}
              [
                xmin=-1.5, xmax=7.5, ymin=-10, ymax=110,
                xlabel={$D$}, ylabel={$S$}, axis lines=center,
              ]
              \addplot [only marks] coordinates {
                (1,100) (2,0) (3,0) (4,0) (5,50) (6,0)
              };
              \end{axis}
              \end{tikzpicture}
            </latex-image>
          </image>
        </sidebyside>
        <p>
            The inverse relation using the same table <m>(S,D)</m> is not a function.
            Multiple die throws correspond to the same score.
            Thus, knowing the score <m>S</m> is not enough information to know the value of the number of dots showing on a throw <m>D</m>.
        </p>
      </statement>
    </example>
  </subsection>
  <subsection>
    <title>Summary</title>
    <p>
    <ul>
      <li>
        A function is a relation between an independent variable (input)
        and a dependent variable (output) such that for each value of the input,
        there is exactly one value for the output.
      </li>
      <li>
        An equation in two variables defines a relation.
        When we can solve the equation for one variable (dependent)
        as a single expression of the other variable (independent),
        the expression defines an explicit function.
      </li>
      <li>
        Function mapping notation <m>x \overset{f}{\mapsto} y</m> indicates
        that <m>y</m> is a function of <m>x</m> and <m>f</m> is the name of the function.
      </li>
      <li>
        Function evaluation notation <m>f(\square)</m> uses substitution of
        whatever appears between the parentheses <m>(\square)</m> in place of the independent variable.
      </li>
    </ul>
    </p>
  </subsection>
  <exercises>
    <exercisegroup>
      <introduction>
        For each function defining a map between two variables,
        interpret the stated function value by indicating the value of each variable.
      </introduction>
      <exercise>
        <statement>
          <p>
            Suppose that <m>P</m> represents the population size in millions and <m>B</m> represents the birth rate in hundreds of births per month.
            If <m>f : P \mapsto B</m>, interpret <m>f(30) = 12</m>.
          </p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p>
            Suppose that <m>t</m> represents time in seconds and <m>h</m> represents the height of an object above the ground in meters.
            If <m>g : t \mapsto h</m>, interpret <m>g(2) = 3</m>.
          </p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p>
            Suppose that <m>n</m> represents the number of items a company will sell in thousands and <m>p</m> represents the price the company charges per item in dollars.
            If <m>h : p \mapsto n</m>, interpret <m>h(2) = 5</m>.
          </p>
        </statement>
      </exercise>
    </exercisegroup>
    <exercisegroup>
      <introduction>
        <p>
        For each function, illustrate how the function maps values between variables.
        Draw two parallel number lines, with the top number line corresponding to the independent variable.
        Mark the given domain as shaded segments or points, as appropriate.
        Choose three different values in the domain and then indicate with arrows how the function maps these values.
        </p>
      </introduction>
      <exercise>
        <statement>
          <p>
            <m>\displaystyle f: [0,1] \to \mathbb{R}; x \mapsto y = 2x - 5</m>
          </p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p>
            <m>\displaystyle g: [-1,1] \to \mathbb{R}; s \mapsto T = \frac{1}{s+2}</m>
          </p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p>
            <m>\displaystyle h: {0,1,2,3,4,5} \to \mathbb{R}; n \mapsto p = 10-2n</m>
          </p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p>
            <m>\displaystyle F: \mathbb{N} \to \mathbb{R}; t \mapsto x = 2^t</m>
          </p>
        </statement>
      </exercise>
    </exercisegroup>
    <exercisegroup>
      <introduction>
        <p>
          Find the natural domain for each function defined by an equation.
        </p>
      </introduction>
      <exercise>
        <statement>
          <p><m>\displaystyle f(x) = x^2-4x+3</m></p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p><m>\displaystyle g(x) = \sqrt{x^2-4x+3}</m></p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p><m>\displaystyle h(x) = \log\left(x^2-4x+3\right)</m></p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p><m>\displaystyle f(x) = \frac{x^2-1}{x^2-4}</m></p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p><m>\displaystyle g(x) = \sqrt{\frac{x^2-1}{x^2-4}}</m></p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p><m>\displaystyle h(x) = \log\left(\frac{x^2-1}{x^2-4}\right)</m></p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p><m>\displaystyle f(x) = \frac{2x}{x^2-x-6}</m></p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p><m>\displaystyle g(x) = \sqrt{\frac{2x}{x^2-x-6}}</m></p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p><m>\displaystyle h(x) = \log\left(\frac{2x}{x^2-x-6}\right)</m></p>
        </statement>
      </exercise>
    </exercisegroup>
    <exercise>
      <statement>
        <p>
          A function <m>f : x \mapsto y</m> is defined by a table shown below.
          <ol>
            <li>Graph the points represented by the function.</li>
            <li>What are the domain and range of <m>f</m>?</li>
            <li>What is <m>f(3)</m>?</li>
            <li>What value or values of <m>x</m> satisfy <m>f(x)=4</m>?</li>
          </ol>
        </p>
        <sidebyside>
          <tabular>
            <col right="major"/><col/>
            <row bottom="major">
              <cell><m>x</m></cell><cell><m>y</m></cell>
            </row>
            <row>
              <cell>1</cell> <cell>4</cell>
            </row>
            <row>
              <cell>2</cell> <cell>2</cell>
            </row>
            <row>
              <cell>3</cell> <cell>1</cell>
            </row>
            <row>
              <cell>4</cell> <cell>3</cell>
            </row>
            <row>
              <cell>5</cell> <cell>4</cell>
            </row>
          </tabular>
        </sidebyside>
      </statement>
    </exercise>
    <exercise>
      <statement>
        <p>
          A function <m>g : x \mapsto y</m> is defined by a graph shown below.
          <ol>
            <li>What are the domain and range of <m>g</m>?</li>
            <li>What is <m>g(4)</m>?</li>
            <li>What value or values of <m>x</m> satisfy <m>g(x)=3</m>?</li>
            <li>Find the table representation for <m>g</m>.</li>
          </ol>
        </p>
        <image width="50%">
          <latex-image>
            \begin{tikzpicture}
              \begin{axis}
              [
                xmin=-4.5, xmax=4.5, ymin=-6, ymax=6,
                grid=both, axis lines = center,
                xlabel={$x$}, ylabel={$y$},
              ]
              \addplot [only marks] coordinates {
                (-4,3) (-3,1) (-2,0) (-1,2) (0,0)
                (1,-2) (2,0) (3,-1) (4,-3)
              };
              \end{axis}
            \end{tikzpicture}
          </latex-image>
        </image>
      </statement>
    </exercise>
    <exercisegroup>
      <introduction>
      <p>Applications</p>
      </introduction>
      <exercise>
        <statement>
          <p>
          Let <m>C</m> be the temperature measured in degrees Celsius,
          and let <m>F</m> be the temperature measured in degrees Fahrenheit.
          The function <m>g(x) = \frac{9}{5}x + 32</m> defines the map <m>g : C \mapsto F</m>,
          and <m>h(x) = \frac{5}{9}(x-32)</m> defines <m>h : F \mapsto C</m>.
          <ol>
            <li>
              What is the value and interpretation of <m>g(30)</m>?
            </li>
            <li>
              What is the value and interpretation of <m>h(70)</m>?
            </li>
          </ol>
          </p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p>
          A spring force scale uses the distance a spring is stretched
          to determine the force that is applied to the spring.
          We calibrate the scale by using known forces (<eg/>, weights)
          and record the corresponding location of the tip on a ruler.
          Let <m>F</m> be the force (Newtons) applied to the spring
          and let <m>L</m> be the corresponding location (centimeters).
          The following table is used for calibration.
          </p>
          <sidebyside margins="auto">
          <tabular>
            <col right="major"/> <col right="minor"/> <col/>
            <row bottom="major">
              <cell><m>F</m> (N)</cell>
              <cell>0</cell>
              <cell>10.0</cell>
            </row>
            <row>
              <cell><m>L</m> (cm)</cell>
              <cell>20.0</cell>
              <cell>42.5</cell>
            </row>
          </tabular>
          </sidebyside>
          <p>
          <ol>
            <li>
              Find a linear equation relating the variables <m>F</m> and <m>L</m>.
            </li>
            <li>
              Determine functions <m>g</m> and <m>h</m> so that
              <m>g : F \mapsto L</m> and <m>h : L \mapsto F</m>.
              What are the corresponding equations using evaluation notation?
            </li>
            <li>
              Suppose a force of 5 <quantity><unit base="newton"/></quantity> is applied to the spring.
              What will be the location of the tip of the ruler? Which function was used?
            </li>
            <li>
              Suppose a force is applied that results in the tip
              having a location of 28.7 <quantity><unit prefix="centi" base="meter"/></quantity>.
              What was the force? Which function was used?
            </li>
          </ol>
          </p>
        </statement>
      </exercise>
      <exercise>
        <statement>
          <p>
          The cost <m>C</m> of materials for a project depends on the required area <m>A</m> of materials needed.
          The unit price is $3.50 per <quantity><unit base="meter" exp="2"/></quantity>.
          The project involves making two squares, each of them having sides with length <m>s</m> (meters).
          <ol>
            <li>Find <m>f : A \mapsto C</m>.</li>
            <li>Find <m>g : s \mapsto A</m>.</li>
            <li>
              <p>
              How much would a project with <m>s=4</m> cost?
              How is each function used in order to answer this question?
              </p>
            </li>
          </ol>
          </p>
        </statement>
      </exercise>
    </exercisegroup>
  </exercises>
</section>
