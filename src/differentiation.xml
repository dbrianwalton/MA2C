<?xml version="1.0" encoding="UTF-8"?>

<!-- This file is part of the book                -->
<!--                                              -->
<!--      A Modeling Approach to Calculus         -->
<!--                                              -->
<!-- Copyright (C) 2015-2018  D. Brian Walton          -->
<!-- See the file COPYING for copying conditions. -->

<section xml:id="derivative-rules">
  <title>Differentiation</title>
  <introduction>
    <p>
      We have learned that the derivative is defined
      by the limit of an average rate of change
      as the gap between the two points goes to zero.
      For functions already defined as an accumulation function with a known, continuous rate of accumulation,
      the Fundamental Theorem of calculus guarantees that the derivative equals the rate of accumulation.
      Every time we need a derivative of any other function,
      we must use the definition and compute the limit
      <me>f'(x) = \lim_{h \to 0} \frac{f(x+h)-f(x)}{h}</me>
      and then go through the algebra and simplification to find the resulting formula.
    </p>
    <p>
      It would be much nicer if we could look at the formula of <m>f(x)</m>
      and know what the formula of the derivative <m>f'(x)</m> should be.
      Computing the formula for <m>f'(x)</m> based on the structure of the formula for <m>f(x)</m>
      is a process called <term>differentiation</term>.
      Rules for derivatives will provide us with a methodical way to
      differentiate algebraic formulas.
    </p>
    <p>
      Differentiation is a process of taking a function and using it to determine another function.
      That is, differentiation defines a map between functions, <m>f \mapsto f'</m>.
      The entire function <m>f(x)</m>, not just a value, is the input to the map
      and an entirely different function <m>f'(x)</m> is the output.
      Maps that take numbers as inputs and give numbers as outputs are called <term>functions</term>;
      a map that takes an entire function as an input is called an <term>operator</term>.
      When the independent variable is <m>x</m>,
      the symbol for the differential operator is <m>\displaystyle \frac{d}{dx}</m>.
      The <m>x</m> in the symbol is replaced by the appropriate independent variable for the function of interest.
    </p>
    <definition>
      <statement>
        <p>
          The differential operator <m>\displaystyle \frac{d}{dx}</m> takes a function
          as its input and provides the derivative function as its output,
          <me> \frac{d}{dx}[f(x)] = \frac{df}{dx}(x) = f'(x). </me>
          If <m>y</m> is a dependent variable defined by a function <m>y=f(x)</m>,
          then we can also write
          <me> \frac{dy}{dx} = \frac{d}{dx}[y] = f'(x). </me>
        </p>
      </statement>
    </definition>
    <p>
      In this section, we establish some elementary rules of differentiation.
      The rules of differentiation begin with linearity,
      matching the corresponding properties of definite integrals.
      The similarity ends here.
      Differentiation also has rules for multiplication and division,
      where the definite integral has no such rules.
      Differentiation goes even further and has a rule for function composition, called the chain rule.
      Each rule is justified by returning to the definition of the derivative
      using a limit of the difference quotient that represents an average rate of change.
    </p>
  </introduction>
  <subsection>
    <title>Derivative Building Blocks</title>
    <p>
      In order to differentiate algebraic formulas,
      we need to know the derivatives of elementary functions
      that will be our building blocks.
      Because we have the Fundamental Theorem of Calculus,
      any rate of accumulation that we know for an accumulation function
      is automatically going to be a derivative.
      However, it is also useful to show derivatives of elementary functions directly.
    </p>
    <theorem xml:id="deriv-constant">
      <title>Derivative of a Constant</title>
      <statement>
        <p>
          For a constant <m>k</m>,
          <me>\frac{d}{dx}[k] = 0</me>.
        </p>
      </statement>
      <solution>
        <p>
          The function of interest is <m>x \mapsto k</m>, or <m>f(x)=k</m>.
          Using the definition of the derivative,
          <md>
            <mrow> \frac{d}{dx}[k] &amp;= \lim_{h \to 0} \frac{f(x+h)-f(x)}{h}</mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{k - k}{h}</mrow>
            <mrow> &amp;= \lim_{h \to 0} 0</mrow>
            <mrow> &amp;= 0</mrow>.
          </md>
          The last step in this sequence of equations is a consequence
          of the <xref ref="LE-Constant" text="title">Limit Rule for a Constant</xref>.
        </p>
      </solution>
    </theorem>
    <theorem xml:id="deriv-identity">
      <title>Derivative of the Identity</title>
      <statement>
        <p>
          For the identity function <m>f(x)=x</m>,
          <me>\frac{d}{dx}[x] = 1</me>.
        </p>
      </statement>
      <solution>
        <p>
          Using the definition of the derivative,
          <md>
            <mrow> \frac{d}{dx}[x] &amp;= \lim_{h \to 0} \frac{f(x+h)-f(x)}{h}</mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{x+h - x}{h}</mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{h}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} 1</mrow>
            <mrow> &amp;= 1</mrow>.
          </md>
          Again, the limit calculation at the last step uses the <xref ref="LE-Constant" text="title">Limit Rule for a Constant</xref>.
        </p>
      </solution>
    </theorem>
    <p>
      The identity function and constant functions are special cases of linear functions.
    </p>
    <theorem xml:id="deriv-linear">
      <title>Derivative of Linear Functions</title>
      <statement>
        <p>
          For a linear function <m>f(x)=mx+b</m>,
          <me>\frac{d}{dx}[mx+b] = m</me>.
        </p>
      </statement>
      <solution>
        <p>
          Using the definition of the derivative,
          <md>
            <mrow> \frac{d}{dx}[mx+b] &amp;= \lim_{h \to 0} \frac{f(x+h)-f(x)}{h}</mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{(m(x+h)+b) - (mx+b)}{h}</mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{mx+mh+b-mx-b}{h}</mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{mh}{h}</mrow>
            <mrow> &amp;= \lim_{h \to 0} m</mrow>
            <mrow> &amp;= m</mrow>.
          </md>
        </p>
      </solution>
    </theorem>
    <p>
      To establish additional derivatives of elementary formulas,
      we need now to develop rules that are based on the algebra of combining other formulas.
    </p>
  </subsection>
  <subsection>
    <title>Derivative Rules</title>
    <p>
      Derivative rules are theorems that take as a hypothesis that one or two functions
      have known derivatives and the conclusion tells how to find the derivative of
      some combination of those functions. We start by stating the basic rules together
      for convenience in finding them.
    </p>
    <theorem xml:id="thm-differentiation-rules">
      <title>Differentiation Rules</title>
      <statement>
        <p>
          This theorem is a collection of multiple theorems.
          The hypothesis for any statement that involves <m>f(x)</m> or <m>g(x)</m> is
          that <m>\displaystyle \frac{d}{dx}[f(x)] = f'(x)</m> or that
          <m>\displaystyle \frac{d}{dx}[g(x)] = g'(x)</m>.
          Further, <m>k</m> is assumed to be a constant.
        </p>
        <table xml:id="table-derivative-rules">
          <caption>Summary of the Differentiation Rules</caption>
          <tabular top="major" halign="left">
          <row>
            <cell>
            <m>\displaystyle \frac{d}{dx}[k \cdot f(x)] = k \cdot f'(x)</m>
            </cell>
            <cell>Constant Multiple Rule</cell>
          </row>
          <row>
            <cell>
            <m>\displaystyle \frac{d}{dx}[f(x)+g(x)] = f'(x)+g'(x)</m>
            </cell>
            <cell>Sum Rule</cell>
          </row>
          <row>
            <cell>
            <m>\displaystyle \frac{d}{dx}[f(x)-g(x)] = f'(x)-g'(x)</m>
            </cell>
            <cell>Difference Rule</cell>
          </row>
          <row>
            <cell>
            <m>\displaystyle \frac{d}{dx}[\frac{1}{g(x)}] = \frac{-g'(x)}{(g(x))^2}</m>
            </cell>
            <cell>Reciprocal Rule</cell>
          </row>
          <row>
            <cell>
            <m>\displaystyle \frac{d}{dx}[f(x) \cdot g(x)] = f'(x) g(x) +f(x) g'(x)</m>
            </cell>
            <cell>Product Rule</cell>
          </row>
          <row>
            <cell>
            <m>\displaystyle \frac{d}{dx}[\frac{f(x)}{g(x)}] = \frac{g(x)f'(x)-f(x)g'(x)}{(g(x))^2}</m>
            </cell>
            <cell>Quotient Rule</cell>
          </row>
          <row bottom="major" >
            <cell>
            <m>\displaystyle \frac{d}{dx}[f\Big(g(x)\Big)] = f'\Big(g(x)\Big) \cdot g'(x)</m>
            </cell>
            <cell>Chain Rule</cell>
          </row>
          </tabular>
        </table>
      </statement>
    </theorem>
    <p>
      One of these differentiation rules, the chain rule, will require its own section.
      That rule is focused on how to differentiate compositions of functions.
      The other rules focus on arithmetic combinations of functions
      and are the primary focus of this section.
      The chain rule was included for completeness in the listing of differentiation rules.
    </p>
    <p>
      The proofs for these differentiation rules are based on applying the definition
      of a derivative to the formula in question while knowing that the limits that
      define the derivatives in the hypothesis are valid.
      To illustrate, we will look at four of the differentiation rules in detail.
    </p>
  </subsection>
  <subsection>
    <title>Proofs of Algebraic Differentiation Rules</title>
    <p>
      In each of our proofs for derivative rules,
      we are going to use the definition of the derivative
      for the function defined by the conclusion of the rule.
      We then use algebra to rewrite the difference quotient in a way
      that the divison by <m>h</m> (and recall <m>h \to 0</m>) only appears
      in expressions where a ratio converges to a known derivative.
    </p>
    <p>
      In the proofs, in order to keep the algebra a little cleaner,
      we will use the notation <m>\Delta f</m> to represent
      <me>\Delta f = f(x+h) - f(x)</me>
      and similarly define
      <me>\Delta g = g(x+h) - g(x)</me>.
      Then, because <m>f'(x)</m> and <m>g'(x)</m> are the derivatives of <m>f(x)</m> and <m>g(x)</m>, respectively,
      we can substitute the following limits
      <me>\lim_{h \to 0} \frac{\Delta f}{h} = f'(x) \quad \text{and} \quad \lim_{h \to 0} \frac{\Delta g}{h} = g'(x) </me>.
    </p>
    <p>
      The first rule we consider is the constant multiple rule.
      This rules states that if we know how to differentiation a function,
      then we can compute any constant multiple of that function
      by multiplying the derivative by the same constant.
    </p>
    <theorem xml:id="constant-multiple-rule-deriv">
      <title>Constant Multiple Rule for Derivatives</title>
      <statement>
        <p>
          If <m>\frac{d}{dx}[f(x)] = f'(x)</m> and <m>k</m> is a constant,
          then <m>\frac{d}{dx}[k f(x)] = k f'(x)</m>.
        </p>
      </statement>
      <proof>
        <p>
          The rule is interested in finding the rate of change of a new function <m>k \cdot f(x)</m>
          knowing that <m>\frac{d}{dx}[f(x)] = f'(x)</m>.
          We begin by stating the definition of the derivative of the function <m>x \mapsto k \cdot f(x)</m>,
          and then we use algebra to factor <m>k</m> out as a common factor in the numerator:
          <md>
            <mrow> \frac{d}{dx}[k \cdot f(x)] &amp;= \lim_{h \to 0} \frac{k \cdot f(x+h) - k \cdot f(x)}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{k (f(x+h)-f(x))}{h}. </mrow>
            <mrow> &amp;= \lim_{h \to 0} k \cdot \frac{\Delta f}{h}. </mrow>
          </md>
          Now notice that the formula is a product of the constant <m>k</m> and
          the average rate of change of <m>f</m>.
          The rules for limits act with the ordinary rules of arithmetic.
          In particular, the <xref ref="LC-Constant-Multiple" text="title">constant multiple rule for limits</xref>
          states that the limit of a constant times a function equals that constant times the limit of the function.
          Consequently, we have
          <md>
            <mrow> \frac{d}{dx}[k \cdot f(x)] &amp;= \lim_{h \to 0} k \frac{\Delta f}{h} </mrow>
            <mrow> &amp;= k \cdot \lim_{h \to 0} \frac{\Delta f}{h} </mrow>
            <mrow> &amp;= k \cdot f'(x). </mrow>
          </md>
        </p>
      </proof>
    </theorem>
    <p>
      For our second example of proving a differentiation rule,
      we consider the reciprocal of a function.
      We know that <m>\frac{d}{dx}[x^2 + 3] = 2x</m>.
      This rule will tell us how to compute the derivative
      <m>\frac{d}{dx}[ \displaystyle \frac{1}{x^2+3} ]</m>.
      We might be tempted to think the answer would be <m>\frac{1}{2x}</m>,
      but this is not correct.
      Derivatives do not follow simple rules for either division or multiplication.
    </p>
    <theorem xml:id="reciprocal-rule-deriv">
      <title>Reciprocal Rule for Derivatives</title>
      <statement>
        <p>
          If <m>\frac{d}{dx}[g(x)] = g'(x)</m>,
          then <m>\displaystyle \frac{d}{dx}[\frac{1}{g(x)}] = \frac{-g'(x)}{(g(x))^2}</m>.
        </p>
      </statement>
      <proof>
        <p>
          By hypothesis, <m>\displaystyle \frac{d}{dx}[g(x)] = g'(x)</m>.
          This means that <m>g'(x)</m> is defined by its limit
          <me> \lim_{h \to 0} \frac{g(x+h)-g(x)}{h} = \lim_{h \to 0} \frac{\Delta g}{h} = g'(x). </me>
          The rule is interested in finding the rate of change of a new function
          <m>\displaystyle x \mapsto \frac{1}{g(x)}</m>.
          We will use that function to compute the derivative using the definition,
          which will require finding a common denominator.
          <md>
            <mrow> \frac{d}{dx}[\frac{1}{g(x)}]
            &amp;= \lim_{h \to 0} \frac{\frac{1}{g(x+h)} - \frac{1}{g(x)}}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{\frac{g(x)}{g(x)g(x+h)} - \frac{g(x+h)}{g(x)g(x+h)}}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{g(x)-g(x+h)}{g(x)g(x+h)} \cdot \frac{1}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{- \Delta g}{g(x)g(x+h)} \cdot \frac{1}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{-1}{g(x)g(x+h)}\cdot \frac{\Delta g}{h} </mrow>
          </md>
          Since the limit involves <m>h \to 0</m>, <m>g(x)</m> is a constant relative to the limit.
          In addition, because <xref ref="thm-differentiable-implies-continuous" text="title">a differentiable function is continuous</xref>,
          we have <m>g(x+h) \to g(x)</m> as <m>x \to h</m>.
          Consequently, the limit rules for <xref ref="LC-Reciprocal" text="title">reciprocals</xref>
          and <xref ref="LC-Constant-Multiple" text="title">constant multiples</xref> imply
          <me> \lim_{h \to 0} \frac{-1}{g(x)g(x+h)} = \frac{-1}{(g(x))^2}. </me>
          Using the <xref ref="LC-Product" text="title">limit rule for a product</xref>, we have
          <md>
            <mrow> \frac{d}{dx}[\frac{1}{g(x)}]
            &amp;= \lim_{h \to 0} \frac{-1}{g(x)g(x+h)}\cdot \frac{g(x+h)-g(x)}{h} </mrow>
            <mrow> &amp;= \frac{-1}{(g(x))^2} \cdot g'(x) = \frac{-g'(x)}{(g(x))^2}. </mrow>
          </md>
        </p>
      </proof>
    </theorem>
    <example>
      <statement>
        <p>
          Find <m>\displaystyle \frac{d}{dx}[ \frac{1}{x^2+3}]</m>.
        </p>
      </statement>
      <solution>
        <p>
          We start by recognizing the formula <m>\frac{1}{x^2+3}</m>
          as the reciprocal of <m>g(x)=x^2+3</m>.
          We know <m>g'(x) = 2x</m>, so the <xref ref="thm-reciprocal-derivatives"/> gives
          <md>
            <mrow>\frac{d}{dx}[\frac{1}{x^2+3}] &amp;= \frac{-g'(x)}{(g(x))^2}</mrow>
            <mrow> &amp;= \frac{-2x}{(x^2+3)^2} </mrow>.
          </md>
          That is, if <m>f(x) = \frac{1}{x^2+3}</m>,
          the derivative is <m>f'(x) = \frac{-2x}{(x^2+3)^2}</m>.
        </p>
      </solution>
    </example>
    <p>
      In the solution to the previous example,
      we introduced a name for a function for the sole reason of being able
      to refer to its derivative.
      This is one of the primary reasons for introducing the differentiation operator <m>\frac{d}{dx}</m>.
      It allows us to refer to derivatives using the operator with the original function as input.
      The work in the example could be rewritten
      <md>
        <mrow>\frac{d}{dx}[\frac{1}{x^2+3}] &amp;= \frac{-\frac{d}{dx}[x^2+3]}{(x^2+3)^2}</mrow>
        <mrow> &amp;= \frac{-2x}{(x^2+3)^2} </mrow>.
      </md>
    </p>
    <p>
      The two rules of differentiation proved thus far involve operations on a single function.
      We now turn our attention to rules that combine multiple functions.
      The first rule we consider is the sum rule,
      which states that the derivative of a function formed by adding two functions
      will be the sum of those functions' derivatives.
    </p>
    <theorem xml:id="sum-rule-deriv">
      <title>Sum Rule for Derivatives</title>
      <statement>
        <p>
          If <m>\frac{d}{dx}[f(x)] = f'(x)</m> and <m>\frac{d}{dx}[g(x)]=g'(x)</m>,
          then <m>\frac{d}{dx}[f(x)+g(x)] = f'(x) + g'(x)</m>.
        </p>
      </statement>
      <proof>
        <p>
          By hypothesis, <m>\displaystyle \frac{d}{dx}[f(x)] = f'(x)</m> and
          <m>\displaystyle \frac{d}{dx}[g(x)] = g'(x)</m>. This means that
          <md>
              <mrow> \lim_{h \to 0} \frac{f(x+h)-f(x)}{h} = \lim_{h \to 0} \frac{\Delta f}{h} = f'(x), </mrow>
              <mrow> \lim_{h \to 0} \frac{g(x+h)-g(x)}{h} = \lim_{h \to 0} \frac{\Delta g}{h} = g'(x). </mrow>
          </md>
          The sum rule is interested in finding the rate of change of a new function <m>x \mapsto f(x)+g(x)</m>.
          Because <m>\Delta f=f(x+h)-f(x)</m>, we can rewrite <m>f(x+h)=f(x) + \Delta f</m>.
          Similarly, we can rewrite <m>g(x+h)=g(x)+\Delta g</m>.
          When we use the definition of the derivative, we find
          <md>
            <mrow> \frac{d}{dx}[f(x)+g(x)] &amp;= \lim_{h \to 0} \frac{[f(x+h)+g(x+h)] - [f(x)+g(x)]}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{f(x)+\Delta f + g(x) + \Delta g -f(x)-g(x)}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{\Delta f+\Delta g}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \left[\frac{\Delta f}{h}+\frac{\Delta g}{h}\right] </mrow>.
          </md>
          Again, because limit rules satisfy the ordinary rules of arithmetic,
          the <xref ref="LC-Sum-Rule" text="title">limit rule for sums</xref> implies
          <md>
            <mrow> \frac{d}{dx}[f(x)+g(x)] &amp;= \lim_{h \to 0} \left[\frac{\Delta f}{h}+\frac{\Delta g}{h}\right] </mrow>
            <mrow> &amp;= \lim_{h \to 0} \left[\frac{\Delta f}{h}\right]+ \lim_{h \to 0} \left[\frac{\Delta g}{h}\right] </mrow>
            <mrow> &amp;= f'(x) + g'(x) </mrow>.
          </md>
        </p>
      </proof>
    </theorem>
    <p>
      For our final example of a proof of a differentiation rule,
      we consider the derivative of a product.
      Consider a function like <m>f(x)=(x^2-3)\cdot(2x+1)</m>.
      It is tempting to take derivatives of each formula in place
      and assume that <m>f'(x)<m> would be <m>(2x) \cdot (2)=4x</m>.
      We can see that this is incorrect if we rewrote <m>f(x)</m> after expanding the product,
      <me>f(x) = 2x^3+x^2-6x-3</me>.
      Once written as a simple polynomial, our experience with accumulation functions
      and the <xref ref="theorem-ftc-part-one" text="title">Fundamental Theorem of Calculus</xref>
      allows us to recognize
      <me>f'(x)=6x^2+2x-6</me>.
    </p>
    <p>
      Proper differentiation rules will be consistent regardless of how a function is represented.
      For a function that is represented as a product of two other functions,
      the product rule shows that the derivative is a sum of contributions
      resulting from the rate of change of each factor.
    </p>
    <theorem xml:id="product-rule-deriv">
      <statement>
        <p>
          If <m>\frac{d}{dx}[f(x)] = f'(x)</m> and <m>\frac{d}{dx}[g(x)]=g'(x)</m>,
          then <m>\frac{d}{dx}[f(x) \cdot g(x)] = f'(x) \cdot g(x) + f(x) \cdot g'(x)</m>.
        </p>
      </statement>
      <solution>
        <p>
          By hypothesis, <m>\displaystyle \frac{d}{dx}[f(x)] = f'(x)</m> and
          <m>\displaystyle \frac{d}{dx}[g(x)] = g'(x)</m>. This means that
          <md>
            <mrow> \lim_{h \to 0} \frac{f(x+h)-f(x)}{h} =\lim_{h \to 0} \frac{\Delta f}{h} = f'(x), </mrow>
            <mrow> \lim_{h \to 0} \frac{g(x+h)-g(x)}{h} = \lim_{h \to 0} \frac{\Delta g}{h} =g'(x). </mrow>
          </md>
          The product rule is interested in finding the rate of change of a new function <m>x \mapsto f(x)g(x)</m>.
          As we did in the sum rule, we will take advantage of rewriting
          <m>f(x+h) = f(x) + \Delta f</m> and <m>g(x+h)=g(x)+\Delta g</m>.
          When <m>f'(x)</m> and <m>g'(x)</m> both exist, <m>f</m> and <m>g</m> are both continuous
          so that
          <md>
            <mrow> \lim_{h \to 0} \Delta f = \lim_{h \to 0} f(x+h)-f(x) = 0, </mrow>
            <mrow> \lim_{h \to 0} \Delta g = \lim_{h \to 0} g(x+h)-g(x) = 0. </mrow>
          </md>
        </p>
        <p>
          The derivative in question is defined by
          <md>
            <mrow> \frac{d}{dx}[f(x)g(x)]
            &amp;= \lim_{h \to 0} \frac{[f(x+h)g(x+h)] - [f(x)g(x)]}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{(\Delta f + f(x))(\Delta g + g(x)) - f(x)g(x)}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{\Delta f \Delta g + \Delta f g(x) + f(x) \Delta g + f(x)g(x) - f(x)g(x)}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \frac{\Delta f \Delta g + \Delta f g(x) + f(x) \Delta g}{h} </mrow>
            <mrow> &amp;= \lim_{h \to 0} \left[\frac{\Delta f \Delta g}{h} + \frac{\Delta f g(x)}{h} + \frac{f(x) \Delta g}{h} \right]. </mrow>
            <mrow> &amp;= \lim_{h \to 0} \left[\Delta f \cdot \frac{\Delta g}{h} + \frac{\Delta f}{h} \cdot g(x) + f(x) \cdot \frac{\Delta g}{h} \right]. </mrow>
            <mrow> &amp;= 0 \cdot g'(x) + f'(x) \cdot g(x) + f(x) \cdot g'(x) </mrow>
            <mrow> &amp;= f'(x) \cdot g(x) + f(x) \cdot g'(x), </mrow>
          </md>
          using the <xref ref="LC-Sum" text="title">Limit Rule of a Sum</xref>
          and the <xref ref="LC-Product" text="title">Limit Rule of a Product</xref>.
        </p>
      </solution>
    </theorem>
  </subsection>
  <subsection>
    <title>Applying the Rules to Formulas</title>
    <p>
      In this section, we have established rules of differentiation for elementary formulas
      and for algebraic combinations of functions with known derivatives.
      We now consider how we can apply these rules together to compute derivatives from more complex formulas.
    </p>
    <p>
      To illustrate how functions are formed as combinations of elementary functions,
      let us revisit the derivative of a linear function, <m>f(x) = mx+b</m>.
      This function is algebraically the <em>sum</em> of the expressions <m>mx</m> and <m>b</m>.
      Consequently, the derivative will be the sum of the derivatives of those expressions.
      The first, <m>mx</m> is a constant multiple of the identity function, so
      <me>\frac{d}{dx}[mx] = m \frac{d}{dx}[x] = m \cdot 1 = m</me>.
      The second, <m>b</m> is a constant function, so
      <me>\frac{d}{dx}[b] = 0</me>.
      Adding these together, we find
      <me>\frac{d}{dx}[mx+b] = \frac{d}{dx}[mx} + \frac{d}{dx}[b] = m + 0 = m</me>,
      exactly the same as we found applying the definition of the derivative in <xref ref="deriv-linear"/>.
    </p>
    <example>
      <statement>
        <p>
          Use the differentiation rules to show
          <me>\frac{d}{dx}[x^2] = 2x</me>.
        </p>
      </statement>
      <solution>
        <p>
          The function that is the input to the differentiation operator is <m>x^2</m>.
          The elementary building blocks so far only include constant functions,
          the identity function, and other linear functions.
          We need to see how <m>x^2</m> is a combination of these elementary functions.
          To do this, we need to recognize that the square corresponds to multiplication,
          <me>x^2 = x \cdot x</me>.
        </p>
        <p>
          Once you recognize that our function is a product,
          we need to use the product rule with <m>f(x)=x</m> and <m>g(x)=x</m>.
          The <xref ref="deriv-product" text="title">product rule</xref> says
          <me> \frac{d}{dx}[f(x) g(x)] = f'(x) g(x) + f(x) g'(x)</me>,
          for which we use <m>f'(x)=1</m> and <m>g'(x)=1</m>.
          Consequently,
          <md>
            <mrow>\frac{d}{dx}[x^2] &amp;= \frac{d}{dx}[x \cdot x]</mrow>
            <mrow> &amp;= 1 \cdot x + x \cdot 1</mrow>
            <mrow> &amp;= x+x = 2x</mrow>.
          </md>
        </p>
      </solution>
    </example>
    <p>
      We can repeat this process to find the derivative of <m>x^3</m> and then <m>x^4</m>.
      The pattern generalizes to a rule that we call the power rule.
    </p>
    <example>
      <statement>
        <p>
          Continue to use the product rule of derivatives to show that
          <md>
            <mrow> \frac{d}{dx}[x^3] = 3x^2, </mrow>
            <mrow> \frac{d}{dx}[x^4] = 4x^3. </mrow>
          </md>
        </p>
      </statement>
      <solution>
        <p>
          We rewrite the power as products:
          <me> \quad x^3 = x \cdot x^2, \quad x^4 = x \cdot x^3. </me>
          We already know
          <md>
            <mrow> \frac{d}{dx}[x] = 1, </mrow>
            <mrow> \frac{d}{dx}[x^2] = 2x. </mrow>
          </md>
          It is useful to remember the product rule using dependent variables instead of functions.
          That is, if <m>u=f(x)</m> and <m>v=g(x)</m>, then the product rule becomes
          <me> \frac{d}{dx}[u \cdot v] = \frac{du}{dx} \cdot v + u \cdot \frac{dv}{dx}. </me>
          because this will guide our use of the differentiation operator.
        </p>
        <p>
          The derivative of <m>x^3 = x \cdot x^2</m> will use <m>u=x</m> and <m>v=x^2</m>:
          <md>
              <mrow> \frac{d}{dx}[x^3] &amp;= \frac{d}{dx}[x \cdot x^2]</mrow>
              <mrow> &amp;= \frac{d}{dx}[x] \cdot x^2 + x \cdot \frac{d}{dx}[x^2]</mrow>
              <mrow> &amp;= 1 \cdot x^2 + x \cdot (2x)</mrow>
              <mrow> &amp;= 3x^2 </mrow>
          </md>
          The derivative of <m>x^4 = x \cdot x^3</m> uses <m>u=x</m> and <m>v=x^3</m>,
          whose derivative we learned just above.
          <md>
              <mrow> \frac{d}{dx}[x^4] &amp;= \frac{d}{dx}[x \cdot x^3]</mrow>
              <mrow> &amp;= \frac{d}{dx}[x] \cdot x^3 + x \cdot \frac{d}{dx}[x^3]</mrow>
              <mrow> &amp;= 1 \cdot x^3 + x \cdot (3x^2)</mrow>
              <mrow> &amp;= 4x^3 </mrow>
          </md>
        </p>
        <p>
          Notice that the derivative rules are self consistent.
          We could have written <m>x^4 = x^2 \cdot x^2</m>,
          and the product rule would still have given the same answer.
          <md>
              <mrow> \frac{d}{dx}[x^4] &amp;= \frac{d}{dx}[x^2 \cdot x^2]</mrow>
              <mrow> &amp;= \frac{d}{dx}[x^2] \cdot x^2 + x^2 \cdot \frac{d}{dx}[x^2]</mrow>
              <mrow> &amp;= 2x \cdot x^2 + x^2 \cdot (2x)</mrow>
              <mrow> &amp;= 4x^3. </mrow>
          </md>
        </p>
      </solution>
    </example>
    <p>
      We can continue to find more derivatives using these results.
      In particular, all of the polynomials that we learned earlier
      in terms of the rates of accumulation for accumulation functions,
      we now can justify as derivatives using the derivative rules.
    </p>
    <example>
      <statement>
        <p>
          Find <m> \displaystyle \frac{d}{dx}[ x^3+5x^2-8x+3 ]</m>.
        </p>
      </statement>
      <solution>
        <p>
          It is helpful to give the original function a name,
          so we define <m>f(x)=x^3+5x^2-8x+3</m>.
          We start by using the sum rule of derivatives.
          That rule was formulated with adding two formulas together.
          Consequently, we need to repeat our use of the rule,
          breaking up the sum into two parts at a time.
          <md>
            <mrow> \frac{df}{dx} &amp;= \frac{d}{dx}[x^3+5x^2-8x+3] </mrow>
            <mrow> &amp; = \frac{d}{dx}[x^3] + \frac{d}{dx}[5x^2 -8x+3] </mrow>
            <mrow> &amp; = \frac{d}{dx}[x^3] + \frac{d}{dx}[5x^2] + \frac{d}{dx}[-8x+3] </mrow>
          </md>
          We can stop at this point with the sum rule because <m>-8x+3</m> is a linear function,
          and we have a derivative rule for any linear function.
          We can use the constant multiple rule to factor the <m>5</m> from the derivatives of <m>x^2</m>,
          and then use the derivatives that we know.
          <md>
              <mrow>f'(x) &amp; = \frac{d}{dx}[x^3] + 5 \frac{d}{dx}[x^2] + \frac{d}{dx}[-8x+3] </mrow>
              <mrow>&amp; = 3x^2 + 5(2x) + -8</mrow>
              <mrow>&amp; = 3x^2 + 10x-8. </mrow>
          </md>
          We have shown <m> \displaystyle \frac{d}{dx}[x^3+ 5x^2-8x+3 ] = 3x^2+10x-8</m>.
        </p>
      </solution>
    </example>
    <p>
      The previous example was one that we learned previously using accumulation functions.
      Because definite integrals also have constant multiple and sum rules,
      the process we used earlier is essentially the same.
      The new differentiation rules really show their value
      in finding derivatives of functions we that are not written as a sum.
    </p>
    <example>
      <statement>
        Find <m> \displaystyle \frac{d}{dx}[\frac{1}{x^3}]</m>.
      </statement>
      <solution>
        We use the reciprocal rule of derivatives,
        <me> \frac{d}{dx}[\frac{1}{u}] = \frac{-\frac{du}{dx}}{u^2}. </me>
        So our derivative is
        <md>
            <mrow>\frac{d}{dx}[\frac{1}{x^3}] &amp;= \frac{-\frac{d}{dx}[x^3]}{(x^3)^2} </mrow>
            <mrow> &amp;= \frac{-(3x^2)}{x^3 \cdot x^3} = \frac{-3x^2}{x^6} </mrow>
            <mrow> &amp;= \frac{-3}{x^4}. </mrow>
        </md>
      </solution>
    </example>
  </subsection>
</section>
